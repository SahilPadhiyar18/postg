<head>
    <title>ADMS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    
    
    <style>
      
  .topnav {
  overflow: hidden;
  background-color: #333;
}

.topnav a {
  float: left;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

.topnav a:hover {
  background-color: #ddd;
  color: black;
}

.topnav a.active {
  background-color: #04AA6D;
  color: white;
}


.switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 34px;
  }

  .switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }

  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    -webkit-transition: .4s;
    transition: .4s;
  }

  .slider:before {
    position: absolute;
    content: "";
    height: 26px;
    width: 26px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    -webkit-transition: .4s;
    transition: .4s;
  }

  input:checked+.slider {
    background-color: #2196F3;
  }

  input:focus+.slider {
    box-shadow: 0 0 1px #2196F3;
  }

  input:checked+.slider:before {
    -webkit-transform: translateX(26px);
    -ms-transform: translateX(26px);
    transform: translateX(26px);
  }

  /* Rounded sliders */
  .slider.round {
    border-radius: 34px;
  }

  .slider.round:before {
    border-radius: 50%;
  }

    </style>
    </head>
<body onload=myTimer()>
    
    <div class="topnav" style="width: 100%;;">
      <a class="active" href="#home">Home</a>
      <a href="#datapage">Database</a>
      <a href="#contact">Contact</a>
      <a href="#about">About</a>
      <b style="color:rgb(255, 255, 255); margin-left: 60%;">Hello , </b>
      <b id= "name" style="color:rgb(255, 255, 255);" >{{ name }}</b>
    </div>
    <h2>LAW Borewell 
    </h2>
    
    <div class="card-design">
      <div class="card-collection">
        <div class="card">
          <div class="heading">
            <h4>Switch</h4>
          </div>
          <!-- <div class="container"> -->
            <label class="switch">
              <input type="checkbox" id="myCheck1" onclick="myFunction1()">
              <span class="slider"></span>
            </label>
            <label id="text1">Wait data is loding</label>
          </div>
        </div>
        
<!-- <div class="card-design">
    <div class="card-collection">
      <div class="card time">
        <div class="heading">
          <h4>Start Time</h4>
        </div>
        <div class="container time-flex">
          <div class="time-container">
            <select id="shour" onchange="myFunction()">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
            </select>
          
            <select id="smin" onchange="myFunction()">
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
              <option value="32">32</option>
              <option value="33">33</option>
              <option value="34">34</option>
              <option value="35">35</option>
              <option value="36">36</option>
              <option value="37">37</option>
              <option value="38">38</option>
              <option value="39">39</option>
              <option value="40">40</option>
              <option value="41">41</option>
              <option value="42">42</option>
              <option value="43">43</option>
              <option value="44">44</option>
              <option value="45">45</option>
              <option value="46">46</option>
              <option value="47">47</option>
              <option value="48">48</option>
              <option value="49">49</option>
              <option value="50">50</option>
              <option value="51">51</option>
              <option value="52">52</option>
              <option value="53">53</option>
              <option value="54">54</option>
              <option value="55">55</option>
              <option value="56">56</option>
              <option value="57">57</option>
              <option value="58">58</option>
              <option value="59">59</option>
            </select>
            <select id="szone" onchange="myFunction()">
              <option value="AM">AM</option>
              <option value="PM">PM</option>\
            </select>
          </div>
        </div>
      </div>
      <div class="card time">
        <div class="heading">
          <h4>End Time</h4>
        </div>
        <div class="container time-flex">
          <div class="time-container">
            <select id="ehour" onchange="myFunction()">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
            </select>
            <select id="emin" onchange="myFunction()">
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
              <option value="32">32</option>
              <option value="33">33</option>
              <option value="34">34</option>
              <option value="35">35</option>
              <option value="36">36</option>
              <option value="37">37</option>
              <option value="38">38</option>
              <option value="39">39</option>
              <option value="40">40</option>
              <option value="41">41</option>
              <option value="42">42</option>
              <option value="43">43</option>
              <option value="44">44</option>
              <option value="45">45</option>
              <option value="46">46</option>
              <option value="47">47</option>
              <option value="48">48</option>
              <option value="49">49</option>
              <option value="50">50</option>
              <option value="51">51</option>
              <option value="52">52</option>
              <option value="53">53</option>
              <option value="54">54</option>
              <option value="55">55</option>
              <option value="56">56</option>
              <option value="57">57</option>
              <option value="58">58</option>
              <option value="59">59</option>
            </select>
            <select id="ezone" onchange="myFunction()">
              <option value="AM">AM</option>
              <option value="PM">PM</option>\
            </select> 
          </div>
        </div>
  
      </div>
    </div>
  </div>
  <label id="demo">Wait data is loding &nbsp;</label>
  <input type="checkbox" id="myCheck3" onclick="myFunction3()"> -->
            
  <p id="ms">Motor1 is Offline</p>
  

<!-- 
        <div class="card">
          <div class="heading">
            <h4>Motor 2</h4>
          </div>
            <label class="switch">
              <input type="checkbox" id="myCheck2" onclick="myFunction2()">
              <span class="slider"></span>
            </label>
            <label id="text2">Wait data is loding</label>
          </div>
        </div> -->
        
<!-- <div class="card-design">
    <div class="card-collection">
      <div class="card time">
        <div class="heading">
          <h4>Start Time</h4>
        </div>
        <div class="container time-flex">
          <div class="time-container">
            <select id="shour1" onchange="Motor()">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
            </select>
            <select id="smin1" onchange="Motor()">
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
              <option value="32">32</option>
              <option value="33">33</option>
              <option value="34">34</option>
              <option value="35">35</option>
              <option value="36">36</option>
              <option value="37">37</option>
              <option value="38">38</option>
              <option value="39">39</option>
              <option value="40">40</option>
              <option value="41">41</option>
              <option value="42">42</option>
              <option value="43">43</option>
              <option value="44">44</option>
              <option value="45">45</option>
              <option value="46">46</option>
              <option value="47">47</option>
              <option value="48">48</option>
              <option value="49">49</option>
              <option value="50">50</option>
              <option value="51">51</option>
              <option value="52">52</option>
              <option value="53">53</option>
              <option value="54">54</option>
              <option value="55">55</option>
              <option value="56">56</option>
              <option value="57">57</option>
              <option value="58">58</option>
              <option value="59">59</option>
            </select>
            <select id="szone1" onchange="Motor()">
              <option value="AM">AM</option>
              <option value="PM">PM</option>\
            </select>
          </div>
        </div>
      </div>
      <div class="card time">
        <div class="heading">
          <h4>End Time</h4>
        </div>
        <div class="container time-flex">
          <div class="time-container">
            <select id="ehour1" onchange="Motor()">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
            </select>
            <select id="emin1" onchange="Motor()">
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
              <option value="32">32</option>
              <option value="33">33</option>
              <option value="34">34</option>
              <option value="35">35</option>
              <option value="36">36</option>
              <option value="37">37</option>
              <option value="38">38</option>
              <option value="39">39</option>
              <option value="40">40</option>
              <option value="41">41</option>
              <option value="42">42</option>
              <option value="43">43</option>
              <option value="44">44</option>
              <option value="45">45</option>
              <option value="46">46</option>
              <option value="47">47</option>
              <option value="48">48</option>
              <option value="49">49</option>
              <option value="50">50</option>
              <option value="51">51</option>
              <option value="52">52</option>
              <option value="53">53</option>
              <option value="54">54</option>
              <option value="55">55</option>
              <option value="56">56</option>
              <option value="57">57</option>
              <option value="58">58</option>
              <option value="59">59</option>
            </select>
            <select id="ezone1" onchange="Motor()">
              <option value="AM">AM</option>
              <option value="PM">PM</option>
            </select>
          </div>
        </div>
  
      </div>
    </div>
  </div> -->

    
    <!-- <lable id="demo1">Wait data is loding&nbsp;</lable>
    <input type="checkbox" id="myCheck4" onclick="myFunction4()">
            
    <p id="ms">Motor2 is Offline</p> -->
  
    
    <script>  
      var Number = 0;
      setInterval(myTimer, 5000);
      setInterval(time, 1000);
    
      function myFunction1()
      {
        var checkBox = document.getElementById("myCheck1");
        if (checkBox.checked == true) {
          // document.getElementById("text1").innerHTML = "Motor is ON "
          fetch("/switch",
            {
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
              method: "POST",
              body: JSON.stringify({ sw: 1  , data: 1 , name : document.getElementById("name").textContent})
            })
        } else {
          // document.getElementById("text1").innerHTML = "Motor is OFF"
          fetch("/switch",
            {
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
              method: "POST",
              body: JSON.stringify({ sw: 1, data: 0, name : document.getElementById("name").textContent })
            })
        }
      }
    
    
      function myFunction2() {
        var checkBox = document.getElementById("myCheck2");
        if (checkBox.checked == true) {
          fetch("/switch",
            {
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
              method: "POST",
              body: JSON.stringify({ sw: 2, data: 1 , name : document.getElementById("name").textContent})
            })
          // document.getElementById("text2").innerHTML = "Motor is ON "
        } else {
          // document.getElementById("text2").innerHTML = "Motor is OFF"
          fetch("/switch",
            {
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
              method: "POST",
              body: JSON.stringify({ sw: 2, data: 0 , name : document.getElementById("name").textContent })
            })
        }
      }

      function myFunction3()
      {
        var checkBox = document.getElementById("myCheck3");
        if (checkBox.checked == true) {
          // document.getElementById("text1").innerHTML = "Motor is ON "
          fetch("/switch",
            {
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
              method: "POST",
              body: JSON.stringify({ sw: 3  , data: 1 , name : document.getElementById("name").textContent})
            })
        } else {
          // document.getElementById("text1").innerHTML = "Motor is OFF"
          fetch("/switch",
            {
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
              method: "POST",
              body: JSON.stringify({ sw: 3, data: 0, name : document.getElementById("name").textContent })
            })
        }
      }
    
    
      function myFunction4() {
        var checkBox = document.getElementById("myCheck4");
        if (checkBox.checked == true) {
          fetch("/switch",
            {
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
              method: "POST",
              body: JSON.stringify({ sw: 4, data: 1, name : document.getElementById("name").textContent })
            })
          // document.getElementById("text2").innerHTML = "Motor is ON "
        } else {
          // document.getElementById("text2").innerHTML = "Motor is OFF"
          fetch("/switch",
            {
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
              method: "POST",
              body: JSON.stringify({ sw: 4, data: 0 , name : document.getElementById("name").textContent})
            })
        }
      }
    
      function myTimer() 
      {
        
        fetch("/online",
          {
            headers: {
              'Accept': 'application/json',
              'Content-Type': 'application/json'
            },
            method: "POST",
            body: JSON.stringify({ name: "a" })
          })
          .then(response => response.text())
          .then(data => document.getElementById("ms").innerHTML = data)
        }

        fetch("/temp",
          {
            headers: {
              'Accept': 'application/json',
              'Content-Type': 'application/json'
            },
            method: "POST",
            body: JSON.stringify({ name: "a" })
    
          })
          .then(response => response.text())
          .then(data => document.getElementById("demo").innerHTML = data)
    
        fetch("/temp1",
          {
            headers: {
              'Accept': 'application/json',
              'Content-Type': 'application/json'
            },
            method: "POST",
            body: JSON.stringify({ name: "a" })
          })
          .then(response => response.text())
          .then(data => document.getElementById("demo1").innerHTML = data)
        

        function time(){

          fetch("/swpos",
          {
            headers: {
              'Accept': 'application/json',
              'Content-Type': 'application/json'
            },
            method: "POST",
            body: JSON.stringify({ name: "a" })
          })
          .then(response => response.text())
          .then(data => Number = data)
          console.log(Number)
          if(Number == "00" ){
            document.getElementById("myCheck1").checked = false;
            // document.getElementById("myCheck2").checked = false;
            document.getElementById("text1").innerHTML = "Motor is Off "
            // document.getElementById("text2").innerHTML = "Motor is Off "
          }
          else if(Number == "01"){
            document.getElementById("myCheck1").checked = false;
            // document.getElementById("myCheck2").checked = true;
            document.getElementById("text1").innerHTML = "Motor is Off "
            // document.getElementById("text2").innerHTML = "Motor is ON "

          }
          else if(Number == "10"){
            document.getElementById("myCheck1").checked = true;
            // document.getElementById("myCheck2").checked = false;
            document.getElementById("text1").innerHTML = "Motor is ON "
            // document.getElementById("text2").innerHTML = "Motor is Off "

          }
          else if(Number == "11"){
            document.getElementById("myCheck1").checked = true;
            // document.getElementById("myCheck2").checked = true;
            document.getElementById("text1").innerHTML = "Motor is ON "
            // document.getElementById("text2").innerHTML = "Motor is ON "
          }

          
        }
    
    function myFunction() {
    var shour = document.getElementById("shour").value;
    var smin = document.getElementById("smin").value;
    var szone = document.getElementById("szone").value;
    var ehour = document.getElementById("ehour").value;
    var emin = document.getElementById("emin").value;
    var ezone = document.getElementById("ezone").value;
    fetch("/sched",
      {
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        },
        method: "POST",
        body: JSON.stringify({motor:"1", shour: shour, smin: smin, szone: szone, ehour: ehour, emin: emin, ezone: ezone })
      })
    // document.getElementById("demo").innerHTML = "Your start at " + shour + " : " + smin + " " + szone + " to " + ehour + " : " + emin + " " + ezone;
  }
  
  function Motor() {
    var shour = document.getElementById("shour1").value;
    var smin = document.getElementById("smin1").value;
    var szone = document.getElementById("szone1").value;
    var ehour = document.getElementById("ehour1").value;
    var emin = document.getElementById("emin1").value;
    var ezone = document.getElementById("ezone1").value;
    fetch("/sched",
      {
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        },
        method: "POST",
        body: JSON.stringify({motor:"2", shour: shour, smin: smin, szone: szone, ehour: ehour, emin: emin, ezone: ezone })
      })
    // document.getElementById("demo1").innerHTML = "Your start at " + shour + " : " + smin + " " + szone + " to " + ehour + " : " + emin + " " + ezone;
  }
    </script>
  </body>
